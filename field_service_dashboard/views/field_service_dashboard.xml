<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- KanBan View Of Fsm Dashboard -->
    <record id="field_service_dashboard_view" model="ir.ui.view">
        <field name="name">fsm.dashboard.view</field>
        <field name="model">fsm.dashboard</field>
        <field name="arch" type="xml">
            <kanban class="oe_background_grey o_kanban_dashboard o_hr_kanban" js_class='field_service_dashboard_view' create="0">
                <field name="name"/>
                <templates id="fsm_template" xml:space="preserve">
                    <t t-name="field_service_dashboard.fsm_dashboard">
                    <div class="col-md-12">
                        <t t-if="is_field_service_serviceman">
                            <div class="col-md-3 mt8 colstyle2">
                                <div class="btn_action_view_my_job" role="button" style="background-color:#00897B;color;#fff;height:150px">
                                    <div style="padding:5px">
                                        <div>
                                            <div class=""><i class="fa fa-briefcase fa-4x" style="color:#fff;margin-left:3px;margin-top:3px;"></i></div>
                                                <div class="text-center">
                                                    <h1 class="no-margin" style="font-size:25px;color:#fff;margin-top: 6px;"><t t-esc="job_count_id"></t></h1>
                                                </div>
                                                <div class="text-center">
                                                    <h2 style="color:#fff;font-size:20px;">
                                                    My Jobs
                                                    </h2>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </t>
                            <t t-if="is_field_service_customer">
                            <div class="col-md-3 mt8 colstyle2">
                                <div class="btn_action_view_job" role="button" style="background-color:#EF5350;color;#fff;height:150px">
                                    <div style="padding:5px">
                                        <div>
                                            <div class=""><i class="fa fa-briefcase fa-4x" style="color:#fff;margin-left:3px;margin-top:3px;"></i></div>
                                                <div class="text-center">
                                                    <h1 class="no-margin" style="font-size:25px;color:#fff;margin-top: 6px;"><t t-esc="customer_job_count_id"></t></h1>
                                                </div>
                                                    <div class="text-center">
                                                        <h2 style="color:#fff;font-size:20px;">
                                                        Jobs
                                                        </h2>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                            </div>
                            </t>
                            <t t-if="is_field_service_operator">
                            <div class="col-md-3 mt8 colstyle2">
                                <div class="btn_action_view_unassigned_job" role="button" style="background-color:#2196F3;color;#fff;height:150px">
                                    <div style="padding:5px">
                                        <div>
                                            <div class=""><i class="fa fa-briefcase fa-4x" style="color:#fff;margin-left:3px;margin-top:3px;"></i></div>
                                                <div class="text-center">
                                                    <h1 class="no-margin" style="font-size:25px;color:#fff;margin-top: 6px;"><t t-esc="unassigned_job_count_id"></t></h1>
                                                </div>
                                                    <div class="text-center">
                                                        <h2 style="color:#fff;font-size:20px;">
                                                        All Jobs
                                                        </h2>
                                                    </div>
                                            </div>
                                        </div>
                                </div>
                            </div>
                            </t>
                            <t t-if="is_field_service_operator">
                            <div class="col-md-3 mt8 colstyle2">
                                <div class="btn_action_view_rejected_job" role="button" style="background-color:#00BCD4;color;#fff;height:150px">
                                    <div style="padding:5px">
                                        <div>
                                            <div class=""><i class="fa fa-ban fa-4x" style="color:#fff;margin-left:3px;margin-top:3px;"></i></div>
                                                <div class="text-center">
                                                    <h1 class="no-margin" style="font-size:25px;color:#fff;margin-top: 6px;"><t t-esc="rejected_job_count_id"></t></h1>
                                                </div>
                                                    <div class="text-center">
                                                        <h2 style="color:#fff;font-size:20px;">
                                                        Rejected Jobs
                                                        </h2>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                            </t>
                            <t t-if="is_field_service_customer or is_field_service_serviceman">
                            <div class="col-md-3 mt8 colstyle2">
                                <div class="btn_action_my_invoices" role="button" style="background-color:#FF8F00;color;#fff;height:150px">
                                    <div style="padding:5px">
                                        <div>
                                            <div class=""><i class="fa fa-inbox fa-4x" style="color:#fff;margin-left:3px;margin-top:3px;"></i></div>
                                                <div class="text-center">
                                                    <h1 class="no-margin" style="font-size:25px;color:#fff;margin-top: 6px;"><t t-esc="customer_invoice_count_id"></t></h1>
                                                </div>
                                                    <div class="text-center">
                                                        <h2 style="color:#fff;font-size:20px;">
                                                        My Invoices
                                                        </h2>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                            </t>
                            <t t-if="is_field_service_operator">
                            <div class="col-md-3 mt8 colstyle2">
                                <div class="btn_action_open_invoices" role="button" style="background-color:#F44336;color;#fff;height:150px">
                                    <div style="padding:5px">
                                        <div>
                                            <div class=""><i class="fa fa-inbox fa-4x" style="color:#fff;margin-left:3px;margin-top:3px;"></i></div>
                                                <div class="text-center">
                                                    <h1 class="no-margin" style="font-size:25px;color:#fff;margin-top: 6px;"><t t-esc="customer_open_invoice_count_id"></t></h1>
                                                </div>
                                                    <div class="text-center">
                                                        <h2 style="color:#fff;font-size:20px;">
                                                        Open Invoices
                                                        </h2>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                            </t>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- ***********Action Dashboard ************* -->
    <record id="fsm_dashboard_act" model="ir.actions.act_window">
        <field name="name">Dashboard</field>
        <field name="res_model">fsm.dashboard</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban</field>
        <field name="context">{'field_service_dashboard_view_view_ref':
                    'field_service_dashboard.hr_dashboard_view'}</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
            </p>
        </field>
    </record>

    <!-- *********** Menuitem Dashboard *********** -->
    <menuitem id="menu_fsm_dashboard" name="Dashboard"
        action="fsm_dashboard_act" sequence="-1" parent="field_service_management.field_service_main_menu"
        icon="fa-dashboard" web_icon="field_service_dashboard,static/description/dashboard.png"/>
</odoo>