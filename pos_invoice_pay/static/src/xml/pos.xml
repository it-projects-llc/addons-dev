<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-extend="ProductScreenWidget" >
        <t t-jquery=".subwindow-container-fix.pads" t-operation="prepend">
         <div class="invoice-so-buttons">
             <button class='inv-so fetch-orders'>Fetch Orders</button>
             <button class='inv-so fetch-invoices'>Fetch Invoices</button>
         </div>
        </t>
    </t>

    <t t-name="SaleOrder">
        <tr class='sale-order' t-att-data-id='item.id'>
            <td><t t-esc='item.name' /></td>
            <td><t t-esc='item.date_order' /></td>
            <td><t t-esc='item.partner_id[1]' /></td>
            <td><t t-esc='item.user_id[1]' /></td>
            <td><t t-esc='item.amount_total' /></td>
        </tr>
    </t>

    <t t-name="SaleOrdersWidget">
        <div class="clientlist-screen screen">
            <div class="screen-content">
                <section class="top-content">
                    <span class='button back'>
                        <i class='fa fa-angle-double-left'></i>
                        Cancel
                    </span>
                    <span class='searchbox'>
                        <input placeholder='Search Sale Orders' />
                        <span class='search-clear'></span>
                    </span>
                    <span class='searchbox'></span>
                    <span class='button next oe_hidden highlight'>
                        Validate
                        <i class='fa fa-angle-double-right'></i>
                    </span>
                </section>
                <section class="full-content">
                    <div class='window'>
                        <section class='subwindow collapsed'>
                            <div class='subwindow-container collapsed'>
                                <div class='subwindow-container-fix client-details-contents'>
                                </div>
                            </div>
                        </section>
                        <section class='subwindow'>
                            <div class='subwindow-container'>
                                <div class='subwindow-container-fix touch-scrollable scrollable-y'>
                                    <table class='client-list'>
                                        <thead>
                                            <tr>
                                                <th>Order Number</th>
                                                <th>Order Date</th>
                                                <th>Customer</th>
                                                <th>Salesperson</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>
                                        <tbody class='client-list-contents'>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </div>
    </t>

    <t t-name="Invoice">
        <tr class='invoice' t-att-data-id='item.id'>
            <td><t t-esc='item.partner_id[1]' /></td>
            <td><t t-esc='item.date_invoice' /></td>
            <td><t t-esc='item.number' /></td>
            <td><t t-esc='item.user_id[1]' /></td>
            <td><t t-esc='item.date_due' /></td>
            <td><t t-esc='item.amount_total' /></td>
            <td><t t-esc='item.residual' /></td>
            <td><t t-esc='item.state' /></td>

        </tr>
    </t>

    <t t-name="InvoicesWidget">
        <div class="clientlist-screen screen">
            <div class="screen-content">
                <section class="top-content">
                    <span class='button back'>
                        <i class='fa fa-angle-double-left'></i>
                        Cancel
                    </span>
                    <span class='searchbox'>
                        <input placeholder='Search Invoices' />
                        <span class='search-clear'></span>
                    </span>
                    <span class='searchbox'></span>
                    <span class='button next oe_hidden highlight'>
                        Select Invoice
                        <i class='fa fa-angle-double-right'></i>
                    </span>
                </section>
                <section class="full-content">
                    <div class='window'>
                        <section class='subwindow collapsed'>
                            <div class='subwindow-container collapsed'>
                                <div class='subwindow-container-fix client-details-contents'>
                                </div>
                            </div>
                        </section>
                        <section class='subwindow'>
                            <div class='subwindow-container'>
                                <div class='subwindow-container-fix touch-scrollable scrollable-y'>
                                    <table class='client-list'>
                                        <thead>
                                            <tr>
                                                <th>Customer</th>
                                                <th>Invoice Date</th>
                                                <th>Number</th>
                                                <th>Salesperson</th>
                                                <th>Due Date</th>
                                                <th>Total</th>
                                                <th>Amount Due</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody class='client-list-contents'>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </div>
    </t>

    <t t-name="InvoicePaymentScreenWidget">
        <div class='payment-screen screen'>
            <div class='screen-content'>
                <div class='top-content'>
                    <span class='button back'>
                        <i class='fa fa-angle-double-left'></i>
                        Back
                    </span>
                    <h1>Payment</h1>
                    <span class='button next'>
                        Validate
                        <i class='fa fa-angle-double-right'></i>
                    </span>
                </div>
                <div class='left-content pc40 touch-scrollable scrollable-y'>

                    <div class='paymentmethods-container'>
                    </div>

                </div>
                <div class='right-content pc60 touch-scrollable scrollable-y'>

                    <section class='paymentlines-container'>
                    </section>

                    <section class='payment-numpad'>
                    </section>

                    <div class='payment-buttons'>
<!--                         <div class='button js_set_customer'>
                            <i class='fa fa-user' /> 
                            <span class='js_customer_name'> 
                                <t t-if="widget.pos.get_client()">
                                    <t t-esc="widget.pos.get_client().name" />
                                </t>
                                <t t-if="!widget.pos.get_client()">
                                    Customer
                                </t>
                            </span>
                        </div> -->
                        <t t-if='widget.pos.config.iface_invoicing'>
                            <t t-if='widget.pos.get_order()'>
                                <div t-attf-class='button js_invoice #{ widget.pos.get_order().is_to_invoice() ? "highlight" : ""} '>
                                    <i class='fa fa-file-text-o' /> Invoice
                                </div>
                            </t>
                        </t>
                        <t t-if='widget.pos.config.tip_product_id'>
                            <div class='button js_tip'>
                                <i class='fa fa-heart' /> Tip 
                            </div>
                        </t>
                        <t t-if='widget.pos.config.iface_cashdrawer'>
                            <div class='button js_cashdrawer'>
                                <i class='fa fa-archive' /> Open Cashbox
                            </div>
                        </t>
                     </div>
                 </div>
             </div>
         </div>
     </t>

     <t t-name="InvoicePaymentScreen-Paymentlines">
        <t t-if="!paymentlines.length">
            <div class='paymentlines-empty'>
                <div class='total'>
                    <t t-esc="widget.format_currency(widget.get_invoice_residual())"/>            
  </div>
                <div class='message'>
                    Please select a payment method. 
                </div>
            </div>
        </t>

        <t t-if="paymentlines.length">
            <table class='paymentlines'>
                <colgroup>
                    <col class='due' />
                    <col class='tendered' />
                    <col class='change' />
                    <col class='method' />
                    <col class='controls' />
                </colgroup>
                <thead>
                    <tr class='label'>
                        <th>Due</th>
                        <th>Tendered</th>
                        <th>Change</th>
                        <th>Method</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach='paymentlines' t-as='line'>
                        <t t-if='line.selected'>
                            <tr class='paymentline selected'>
                                <td class='col-due'> <t t-esc='widget.format_currency_no_symbol(order.get_due(line))' /> </td>
                                <td class='col-tendered edit'> 
                                    <t t-esc='widget.inputbuffer' />
                                    <!-- <t t-esc='line.get_amount()' /> -->
                                </td>
                                <t t-if='order.get_change(line)'>
                                    <td class='col-change highlight' > 
                                        <t t-esc='widget.format_currency_no_symbol(order.get_change(line))' />
                                    </td>
                                </t>
                                <t t-if='!order.get_change(line)'>
                                    <td class='col-change' ></td>
                                </t>
                                    
                                <td class='col-name' > <t t-esc='line.name' /> </td>
                                <td class='delete-button' t-att-data-cid='line.cid'> <i class='fa fa-times-circle' /> </td>
                            </tr>
                        </t>
                        <t t-if='!line.selected'>
                            <tr class='paymentline' t-att-data-cid='line.cid'>
                                <td class='col-due'> <t t-esc='widget.format_currency_no_symbol(order.get_due(line))' /> </td>
                                <td class='col-tendered'> <t t-esc='widget.format_currency_no_symbol(line.get_amount())' /> </td>
                                <td class='col-change'> 
                                    <t t-if='order.get_change(line)'>
                                        <t t-esc='widget.format_currency_no_symbol(order.get_change(line))' />
                                     </t>
                                </td>
                                <td class='col-name'> <t t-esc='line.name' /> </td>
                                <td class='delete-button' t-att-data-cid='line.cid'> <i class='fa fa-times-circle' /> </td>
                            </tr>
                        </t>
                    </t>
                    <t t-if='extradue'>
                        <tr class='paymentline extra' t-att-data-cid='0'>
                            <td class='col-due'> <t t-esc='widget.format_currency_no_symbol(extradue)' /> </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </t>

    </t>

</templates>