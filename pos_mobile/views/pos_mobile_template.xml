<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="pos_assets" name="pos_mobile assets" inherit_id="point_of_sale.assets">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/pos_mobile/static/src/css/swiper.css"/>
                <link rel="stylesheet" href="/pos_mobile/static/src/css/pos_mobile_styles.css"/>
                <script type="text/javascript" src="/pos_mobile/static/lib/swiper.js"></script>
                <script type="text/javascript" src="/pos_mobile/static/src/js/mobile.js"></script>
                <script type="text/javascript" src="/pos_mobile/static/src/js/models.js"></script>
                <script type="text/javascript" src="/pos_mobile/static/src/js/gui.js"></script>
                <script type="text/javascript" src="/pos_mobile/static/src/js/screens.js"></script>
                <script type="text/javascript" src="/pos_mobile/static/src/js/chrome.js"></script>
            </xpath>
        </template>
        <template id="assets_backend" name="pos_mobile assets" inherit_id="web.assets_backend">
            <xpath expr="//script[@src='/web/static/src/js/services/session.js']" position="before">
                <script type="text/javascript" charset="utf-8">
<![CDATA[
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
};
odoo.is_mobile = getUrlParameter('m');

// exclude pos_mobile from module list if the url doesn't have parameter "m" in agrs (e.g. /pos/web?m=1 )
if (!odoo.is_mobile){
    odoo._modules.splice(odoo._modules.indexOf('pos_mobile'), 1);
}
]]>
                </script>
            </xpath>
        </template>
    </data>
</odoo>
